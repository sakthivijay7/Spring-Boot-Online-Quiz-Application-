<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Register</title>

<link rel="stylesheet" href="/register.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/theme.css">
<link rel="stylesheet" href="/animation.css">
<script src="/register.js"> </script>

</head>
<body>
<select id="theme">
    <option value="">Themes</option>
    <option value="colortheme">Color</option>
    <option value="dark">Dark</option>
    <option value="white">White</option>
</select>
<div class="form">
<form method="post" th:action="@{/register}" th:object="${candidate}">
    <h1>Registration</h1>

    <label for="name">Name</label><br>
    <input type="text" id="name" th:field="*{name}" 
    placeholder="Enter Your Name">

    <label>Gender :</label>
    <input type="radio" th:field="*{gender}" name="gender" value="Male"required> Male
    <input type="radio" th:field="*{gender}" name="gender" value="Female"required> Female<br>


    <label for="email">EmailId</label><br>
    <input type="email" id="email" th:field="*{email}" placeholder="Enter Your Email Id" required>

    <label for="password">Password</label><br>
    <input type="password" id="password" th:field="*{password}" placeholder="Enter Your Password"  required>
    <span id="togglepassword">
       <i class="fa fa-eye" id="open"></i>
       <i class="fa fa-eye-slash" id="close"></i>
    </span>

    <label for="phone">Phone</label><br>
    <input type="text" id="phone" th:field="*{phone}" placeholder="Enter Your Phone" required>

    <div id=button>
       <button type="submit"> Register </button>
       <p th:if="${registered}" id="mess1" th:text="${registered}" style="display:none"></p>
       <p th:if="${exists}" id="mess2" th:text="${exists}" style="display:none"></p>
       <p>Already registered ?
       <a href="/login"> Login here </a></p>
    </div>
</div>
</form>
<script>
         let togglepass = document.getElementById("togglepassword")
            let getinputid = document.getElementById("password");
            let openicon = document.getElementById("open");
            let closeicon = document.getElementById("close");

            if (togglepass && getinputid && openicon && closeicon) {
                togglepass.addEventListener("click", function () {  
                     //get input types
                    const inputtype = getinputid.getAttribute("type");
                    const settype = inputtype === "password" ? "text" : "password";
                    getinputid.setAttribute("type", settype);  //set types text ,password

                    if (settype === "password") { 
                         //type password closed eye default and open eye none
                        openicon.style.display = "none";
                        closeicon.style.display = "inline-block";
                    } else {
                        closeicon.style.display = "none"
                        openicon.style.display = "inline-block";
                    }
                });
                if (getinputid.getAttribute("type") === "password") { 
                    //undo of type to password then default closed eye 
                    openicon.style.display = "none";
                    closeicon.style.display = "inline-block";
                }
                else {
                    closeicon.style.display = "none"
                    openicon.style.display = "inline-block";
                }
            } else {
                console.log("no visible");
            }

        </script>
</body>
</html>
